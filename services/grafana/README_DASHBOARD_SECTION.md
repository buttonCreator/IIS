# –†–∞–∑–¥–µ–ª –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ README.md –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–∞

## Dashboard Grafana - ML Service Monitoring

![ML Service Dashboard](path/to/screenshot.png)

### –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π –¥–∞—à–±–æ—Ä–¥–∞

–î–∞—à–±–æ—Ä–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç **8 –ø–∞–Ω–µ–ª–µ–π**, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø–æ —É—Ä–æ–≤–Ω—è–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

---

#### üéØ –ü—Ä–∏–∫–ª–∞–¥–Ω–æ–π —É—Ä–æ–≤–µ–Ω—å (Application Level Monitoring)

–ú–µ—Ç—Ä–∏–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π –∏ —Ä–∞–±–æ—Ç–æ–π ML –º–æ–¥–µ–ª–∏:

1. **ML Model Predictions Distribution (Histogram)**
   - **–ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:** –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –º–æ–¥–µ–ª–∏ –ø–æ —Ü–µ–Ω–æ–≤—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º (buckets 0-3.5)
   - **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –∫–∞–∫–∏–µ —Ü–µ–Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —á–∞—â–µ –≤—Å–µ–≥–æ. –ü–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å —Å–º–µ—â–µ–Ω–∏–µ (bias) –≤ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è—Ö.
   - **–ú–µ—Ç—Ä–∏–∫–∞:** `ml_model_predictions_bucket`

2. **Average Prediction (Stat)**
   - **–ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:** –°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –º–æ–¥–µ–ª–∏
   - **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â–∏–π —Ç—Ä–µ–Ω–¥ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π. –†–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ data drift –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
   - **–ú–µ—Ç—Ä–∏–∫–∞:** `ml_model_predictions_sum / ml_model_predictions_count`

3. **Predictions by Price Range (Pie Chart)**
   - **–ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:** –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –ø–æ —Ü–µ–Ω–æ–≤—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
   - **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:** –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ —Ü–µ–Ω–æ–≤–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞. –ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
   - **–ú–µ—Ç—Ä–∏–∫–∞:** `sum by(le) (increase(ml_model_predictions_bucket[1h]))`

---

#### ‚öôÔ∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (Infrastructure Level Monitoring)

–ú–µ—Ç—Ä–∏–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é —Å–µ—Ä–≤–∏—Å–∞:

4. **Request Rate (Time Series)**
   - **–ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:** –ß–∞—Å—Ç–æ—Ç–∞ –ø–æ—Å—Ç—É–ø–∞—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (RPS)
   - **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–∏—Å. –ü–æ–º–æ–≥–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã—è–≤–ª—è—Ç—å –ø–∏–∫–æ–≤—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏.
   - **–ú–µ—Ç—Ä–∏–∫–∞:** `rate(ml_service_requests_total[1m])`

5. **HTTP Errors 4xx/5xx (Time Series)**
   - **–ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –∫–ª–∏–µ–Ω—Ç–∞ (4xx) –∏ —Å–µ—Ä–≤–µ—Ä–∞ (5xx)
   - **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ API. –†–æ—Å—Ç 4xx —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π, —Ä–æ—Å—Ç 5xx - –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–∏—Å–∞.
   - **–ú–µ—Ç—Ä–∏–∫–∏:**
     - `ml_service_errors_total{status_code="500"}` (5xx)
     - `ml_service_errors_total{status_code=~"4.."}` (4xx)

6. **Request Latency (Time Series)** ‚ö†Ô∏è
   - **–ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:** –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
   - **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ latency –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –∏–ª–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é –º–æ–¥–µ–ª–∏.
   - **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü–∏–∏ HTTP –º–µ—Ç—Ä–∏–∫. –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
   - **–ú–µ—Ç—Ä–∏–∫–∞:** `rate(http_request_duration_seconds_sum[1m]) / rate(http_request_duration_seconds_count[1m])`

7. **Total Requests (Stat)**
   - **–ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:** –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
   - **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–±—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.
   - **–ú–µ—Ç—Ä–∏–∫–∞:** `ml_service_requests_total`

8. **Total Errors (Stat)**
   - **–ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:** –°—É–º–º–∞—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
   - **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ:** –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞. –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–ª–∏–∑–∫–æ –∫ –Ω—É–ª—é.
   - **–ú–µ—Ç—Ä–∏–∫–∞:** `sum(ml_service_errors_total)`

---

### –£—Ä–æ–≤–Ω–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ü—Ä–∏–∫–ª–∞–¥–Ω–æ–π —É—Ä–æ–≤–µ–Ω—å** (3 –ø–∞–Ω–µ–ª–∏) - —Ñ–æ–∫—É—Å –Ω–∞ –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∞—Ö –∏ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–±–æ—Ç—ã ML –º–æ–¥–µ–ª–∏:
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ data drift

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å** (5 –ø–∞–Ω–µ–ª–µ–π) - —Ñ–æ–∫—É—Å –Ω–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- –ù–∞–≥—Ä—É–∑–∫–∞ (RPS)
- –û—à–∏–±–∫–∏ (4xx/5xx)
- Latency
- Uptime –º–µ—Ç—Ä–∏–∫–∏

---

### –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–î–∞—à–±–æ—Ä–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ **5 —Å–µ–∫—É–Ω–¥**, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

---

### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–∞

–î–∞—à–±–æ—Ä–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON: `services/grafana/ml_service_dashboard.json`

–î–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ –¥—Ä—É–≥—É—é Grafana instance:
1. Dashboards ‚Üí Import
2. Upload JSON file
3. –í—ã–±—Ä–∞—Ç—å Prometheus data source
